class s{static ANIM_TIMEOUTS={changed:1700,pending:1500,fail:2e3,done:2e3};#s;#t;#e;#i;#n;constructor(s,t=!1,e="small",i="hide",n=[]){this.#s=s instanceof HTMLElement?s:"string"==typeof s?document.querySelector(s):null,t&&this.#r(),this.size=e,this.state=i,this.addTransitionListeners(n),this.#a()}get state(){return this.#e}set state(s){let t=this.state;this.#e=s.toLowerCase(),this.#a(),t!==this.state&&this.#h(t,this.state)}get size(){return this.#t}set size(s){this.#t=s,this.#a()}addTransitionListeners(s){this.#i||(this.#i=[]),s&&(Array.isArray(s)?s.forEach((s=>this.addTransitionListeners(s))):s instanceof Function&&this.#i.push(s))}removeTransitionListeners(s){if(s)if(Array.isArray(s))s.forEach((s=>this.removeTransitionListeners(s)));else if(s instanceof Function&&this.#i){const t=this.#i.indexOf(s);t>-1&&this.#i.splice(t,1)}}#r(){let s=this.#o(this.#s,"div",["sheet"]),t=this.#o(s,"div",["asterisk"]);this.#o(t,"div",["axis"],3),this.#o(s,"div",["headline"]);let e=this.#o(s,"div",["line-container"]);this.#o(e,"div",["line"],3);let i=this.#o(this.#s,"div",["mark-flex"]);this.#o(i,"div",["mark"])}#o(s=this.#s,t="div",e=[],i=1){let n=[];for(let r=0;r<i;r++){let i=document.createElement(t);i.classList.add(...e),s.appendChild(i),n.push(i)}return 1===n.length?n[0]:n}#a(){this.#s.classList.add("si-root"),Array.from(this.#s.classList).filter((s=>s.startsWith("size-")||s.startsWith("state-"))).forEach((s=>this.#s.classList.remove(s))),this.#s.classList.add(`size-${this.size}`),this.#s.classList.add(`state-${this.state}`)}#h(t,e){this.#l(t,"changed"),this.#l(e,"started"),this.#d(),s.ANIM_TIMEOUTS.hasOwnProperty(e)&&(this.#n=setTimeout((()=>{this.#l(e,"finished")}),s.ANIM_TIMEOUTS[e]))}#d(){this.#n&&clearTimeout(this.#n)}#l(s,t){this.#i&&this.#i.forEach((e=>e(this,s,t)))}}export{s as default};
